function cov_2r7zabzebj(){var path="E:\\TicketBookingSystem\\Backend\\src\\utilities\\connection.js";var hash="a9df4de777f4628f0df137e2406b82a057d785ed";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"E:\\TicketBookingSystem\\Backend\\src\\utilities\\connection.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:36}},"1":{start:{line:2,column:0},end:{line:2,column:34}},"2":{start:{line:3,column:15},end:{line:3,column:30}},"3":{start:{line:5,column:12},end:{line:5,column:48}},"4":{start:{line:7,column:13},end:{line:25,column:1}},"5":{start:{line:19,column:37},end:{line:19,column:74}},"6":{start:{line:27,column:19},end:{line:27,column:77}},"7":{start:{line:28,column:17},end:{line:28,column:19}},"8":{start:{line:29,column:0},end:{line:37,column:1}},"9":{start:{line:30,column:4},end:{line:36,column:5}},"10":{start:{line:31,column:8},end:{line:31,column:127}},"11":{start:{line:33,column:20},end:{line:33,column:62}},"12":{start:{line:34,column:8},end:{line:34,column:27}},"13":{start:{line:35,column:8},end:{line:35,column:20}},"14":{start:{line:39,column:0},end:{line:39,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:19,column:20},end:{line:19,column:21}},loc:{start:{line:19,column:37},end:{line:19,column:74}},line:19},"1":{name:"(anonymous_1)",decl:{start:{line:29,column:27},end:{line:29,column:28}},loc:{start:{line:29,column:36},end:{line:37,column:1}},line:29}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},f:{"0":0,"1":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9df4de777f4628f0df137e2406b82a057d785ed"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2r7zabzebj=function(){return actualCoverage;};}return actualCoverage;}cov_2r7zabzebj();const mongoose=(cov_2r7zabzebj().s[0]++,require("mongoose"));cov_2r7zabzebj().s[1]++;mongoose.Promise=global.Promise;const Schema=(cov_2r7zabzebj().s[2]++,mongoose.Schema);// mongoose.set('useCreateIndex',true);
const url=(cov_2r7zabzebj().s[3]++,'mongodb://localhost:27017/FlightDB');let schema=(cov_2r7zabzebj().s[4]++,{"bookingId":{type:Number,required:[true,'Require field']},"mobile":{type:Number,required:[true,'Require field']},"dateOfJourney":{type:Date,required:[true,'Require field'],validate:[dateOfJourney=>{cov_2r7zabzebj().f[0]++;cov_2r7zabzebj().s[5]++;return new Date(dateOfJourney)>=new Date();},'Date should be greater than today']},"seats":{type:[],required:[true,'Require field']}});let flightSchema=(cov_2r7zabzebj().s[6]++,new Schema(schema,{collection:"Flight",timestamps:true}));let connection=(cov_2r7zabzebj().s[7]++,{});cov_2r7zabzebj().s[8]++;connection.getCollection=async()=>{cov_2r7zabzebj().f[1]++;cov_2r7zabzebj().s[9]++;try{cov_2r7zabzebj().s[10]++;return(await mongoose.connect(url,{useNewUrlParser:true,useUnifiedTopology:true})).model("Flight",flightSchema);}catch(err){let error=(cov_2r7zabzebj().s[11]++,new Error("Could not connect to database"));cov_2r7zabzebj().s[12]++;error.status=500;cov_2r7zabzebj().s[13]++;throw error;}};cov_2r7zabzebj().s[14]++;module.exports=connection;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbm5lY3Rpb24uanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiUHJvbWlzZSIsImdsb2JhbCIsIlNjaGVtYSIsInVybCIsInNjaGVtYSIsInR5cGUiLCJOdW1iZXIiLCJyZXF1aXJlZCIsIkRhdGUiLCJ2YWxpZGF0ZSIsImRhdGVPZkpvdXJuZXkiLCJmbGlnaHRTY2hlbWEiLCJjb2xsZWN0aW9uIiwidGltZXN0YW1wcyIsImNvbm5lY3Rpb24iLCJnZXRDb2xsZWN0aW9uIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsIm1vZGVsIiwiZXJyIiwiZXJyb3IiLCJFcnJvciIsInN0YXR1cyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJ1ekRBZVk7MkZBZlosS0FBTUEsQ0FBQUEsUUFBUSwwQkFBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFkLEMsd0JBQ0FELFFBQVEsQ0FBQ0UsT0FBVCxDQUFtQkMsTUFBTSxDQUFDRCxPQUExQixDQUNBLEtBQU1FLENBQUFBLE1BQU0sMEJBQUdKLFFBQVEsQ0FBQ0ksTUFBWixDQUFaLENBQ0E7QUFDQSxLQUFNQyxDQUFBQSxHQUFHLDBCQUFHLG9DQUFILENBQVQsQ0FFQSxHQUFJQyxDQUFBQSxNQUFNLDBCQUFHLENBQ1QsWUFBWSxDQUNSQyxJQUFJLENBQUdDLE1BREMsQ0FFUkMsUUFBUSxDQUFHLENBQUMsSUFBRCxDQUFNLGVBQU4sQ0FGSCxDQURILENBS1QsU0FBVyxDQUNQRixJQUFJLENBQUdDLE1BREEsQ0FFUEMsUUFBUSxDQUFHLENBQUMsSUFBRCxDQUFNLGVBQU4sQ0FGSixDQUxGLENBU1QsZ0JBQWtCLENBQ2RGLElBQUksQ0FBR0csSUFETyxDQUVkRCxRQUFRLENBQUcsQ0FBQyxJQUFELENBQU0sZUFBTixDQUZHLENBR2RFLFFBQVEsQ0FBRyxDQUFFQyxhQUFELEVBQWlCLDJEQUFJRixDQUFBQSxJQUFKLENBQVNFLGFBQVQsR0FBMkIsR0FBSUYsQ0FBQUEsSUFBSixFQUEzQixDQUFxQyxDQUF2RCxDQUF5RCxtQ0FBekQsQ0FIRyxDQVRULENBY1QsUUFBUSxDQUNKSCxJQUFJLENBQUcsRUFESCxDQUVKRSxRQUFRLENBQUcsQ0FBQyxJQUFELENBQU0sZUFBTixDQUZQLENBZEMsQ0FBSCxDQUFWLENBb0JBLEdBQUlJLENBQUFBLFlBQVksMEJBQUcsR0FBSVQsQ0FBQUEsTUFBSixDQUFXRSxNQUFYLENBQWtCLENBQUNRLFVBQVUsQ0FBRyxRQUFkLENBQXVCQyxVQUFVLENBQUMsSUFBbEMsQ0FBbEIsQ0FBSCxDQUFoQixDQUNBLEdBQUlDLENBQUFBLFVBQVUsMEJBQUcsRUFBSCxDQUFkLEMsd0JBQ0FBLFVBQVUsQ0FBQ0MsYUFBWCxDQUEyQixTQUFTLGlEQUNoQyxHQUFHLDBCQUNDLE1BQU8sQ0FBQyxLQUFNakIsQ0FBQUEsUUFBUSxDQUFDa0IsT0FBVCxDQUFpQmIsR0FBakIsQ0FBc0IsQ0FBRWMsZUFBZSxDQUFFLElBQW5CLENBQXlCQyxrQkFBa0IsQ0FBRSxJQUE3QyxDQUF0QixDQUFQLEVBQW1GQyxLQUFuRixDQUF5RixRQUF6RixDQUFtR1IsWUFBbkcsQ0FBUCxDQUNILE9BQU1TLEdBQU4sQ0FBVSxDQUNQLEdBQUlDLENBQUFBLEtBQUssMkJBQUcsR0FBSUMsQ0FBQUEsS0FBSixDQUFVLCtCQUFWLENBQUgsQ0FBVCxDQURPLHlCQUVQRCxLQUFLLENBQUNFLE1BQU4sQ0FBZSxHQUFmLENBRk8seUJBR1AsS0FBTUYsQ0FBQUEsS0FBTixDQUNILENBQ0osQ0FSRCxDLHlCQVVBRyxNQUFNLENBQUNDLE9BQVAsQ0FBaUJYLFVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcbm1vbmdvb3NlLlByb21pc2UgPSBnbG9iYWwuUHJvbWlzZTtcclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xyXG4vLyBtb25nb29zZS5zZXQoJ3VzZUNyZWF0ZUluZGV4Jyx0cnVlKTtcclxuY29uc3QgdXJsID0gJ21vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvRmxpZ2h0REInO1xyXG5cclxubGV0IHNjaGVtYSA9IHtcclxuICAgIFwiYm9va2luZ0lkXCI6e1xyXG4gICAgICAgIHR5cGUgOiBOdW1iZXIsXHJcbiAgICAgICAgcmVxdWlyZWQgOiBbdHJ1ZSwnUmVxdWlyZSBmaWVsZCddXHJcbiAgICB9LFxyXG4gICAgXCJtb2JpbGVcIiA6IHtcclxuICAgICAgICB0eXBlIDogTnVtYmVyLFxyXG4gICAgICAgIHJlcXVpcmVkIDogW3RydWUsJ1JlcXVpcmUgZmllbGQnXVxyXG4gICAgfSxcclxuICAgIFwiZGF0ZU9mSm91cm5leVwiIDoge1xyXG4gICAgICAgIHR5cGUgOiBEYXRlLFxyXG4gICAgICAgIHJlcXVpcmVkIDogW3RydWUsJ1JlcXVpcmUgZmllbGQnXSxcclxuICAgICAgICB2YWxpZGF0ZSA6IFsoZGF0ZU9mSm91cm5leSk9Pm5ldyBEYXRlKGRhdGVPZkpvdXJuZXkpID49IG5ldyBEYXRlKCksICdEYXRlIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gdG9kYXknXVxyXG4gICAgfSxcclxuICAgIFwic2VhdHNcIjp7XHJcbiAgICAgICAgdHlwZSA6IFtdLFxyXG4gICAgICAgIHJlcXVpcmVkIDogW3RydWUsJ1JlcXVpcmUgZmllbGQnXVxyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgZmxpZ2h0U2NoZW1hID0gbmV3IFNjaGVtYShzY2hlbWEse2NvbGxlY3Rpb24gOiBcIkZsaWdodFwiLHRpbWVzdGFtcHM6dHJ1ZX0pO1xyXG5sZXQgY29ubmVjdGlvbiA9IHt9O1xyXG5jb25uZWN0aW9uLmdldENvbGxlY3Rpb24gPSBhc3luYygpPT57XHJcbiAgICB0cnl7XHJcbiAgICAgICAgcmV0dXJuIChhd2FpdCBtb25nb29zZS5jb25uZWN0KHVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9KSkubW9kZWwoXCJGbGlnaHRcIiwgZmxpZ2h0U2NoZW1hKVxyXG4gICAgfWNhdGNoKGVycil7XHJcbiAgICAgICAgbGV0IGVycm9yID0gbmV3IEVycm9yKFwiQ291bGQgbm90IGNvbm5lY3QgdG8gZGF0YWJhc2VcIik7XHJcbiAgICAgICAgZXJyb3Iuc3RhdHVzID0gNTAwO1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNvbm5lY3Rpb247Il19